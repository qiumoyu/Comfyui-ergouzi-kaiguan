# 逻辑跳过节点详细使用指南

## 节点介绍

逻辑跳过节点（逻辑跳过🔀）是二狗子开关套件中的一个强大功能，它允许用户根据条件判断是否执行后续节点，实现更灵活的工作流控制。通过这个节点，您可以创建动态的、条件性的工作流，根据不同的输入值自动选择不同的处理路径。

## 节点参数详解

逻辑跳过节点有四个主要参数：

1. **condition**（条件）：布尔值，默认为True。当设置为True时，节点会执行逻辑判断；当设置为False时，节点会直接传递输入值，不进行任何判断。

2. **input**（输入值）：任意类型的输入，这是需要被判断的值。

3. **comparison_type**（比较类型）：选择如何比较输入值和比较值，包括：
   - 等于：输入值等于比较值
   - 不等于：输入值不等于比较值
   - 大于：输入值大于比较值
   - 小于：输入值小于比较值
   - 大于等于：输入值大于或等于比较值
   - 小于等于：输入值小于或等于比较值
   - 包含：输入值（字符串）包含比较值
   - 不包含：输入值（字符串）不包含比较值

4. **comparison_value**（比较值）：字符串类型，用于与输入值进行比较的值。

## 工作原理

逻辑跳过节点的工作原理如下：

```
┌─────────────┐
│  开始      │
└─────┬───────┘
      ▼
┌─────────────┐     否
│ 条件为True? ├────────────┐
└─────┬───────┘            │
  是  │                    │
      ▼                    │
┌─────────────┐            │
│ 获取输入值  │            │
└─────┬───────┘            │
      │                    │
      ▼                    │
┌─────────────┐            │
│ 类型转换    │            │
└─────┬───────┘            │
      │                    │
      ▼                    │
┌─────────────┐            │
│ 比较判断    │            │
└─────┬───────┘            │
      │                    │
      ▼                    ▼
┌─────────────┐     是     ┌─────────────┐
│ 结果为True? ├────────────► 返回输入值  │
└─────┬───────┘            └─────────────┘
  否  │                    
      ▼                    
┌─────────────┐            
│ 返回None    │            
└─────────────┘            
```

## 数据类型处理

逻辑跳过节点会自动识别并转换输入值和比较值的类型：

1. **整数类型**：如果输入值和比较值都可以转换为整数，则按整数进行比较
2. **浮点数类型**：如果输入值和比较值都可以转换为浮点数，则按浮点数进行比较
3. **字符串类型**：如果无法转换为数值类型，则按字符串进行比较

这种自适应的类型处理机制使得节点可以灵活处理各种类型的输入。

## 使用步骤

### 基本使用

1. 在ComfyUI工作区中添加「逻辑跳过🔀」节点
2. 连接需要判断的输入值到节点的input端口
3. 设置比较类型（默认为「等于」）
4. 输入比较值
5. 将节点的输出连接到后续节点

### 高级使用

#### 参数筛选

您可以使用逻辑跳过节点来筛选符合特定条件的参数值：

1. 将参数值连接到逻辑跳过节点的input端口
2. 设置适当的比较类型和比较值
3. 当参数值满足条件时，后续节点将正常执行；否则，后续节点将收到None值，可能会被跳过或使用默认值

#### 条件分支

您可以创建条件分支来处理不同情况：

1. 使用多个逻辑跳过节点，每个节点设置不同的条件
2. 将同一个输入值连接到多个逻辑跳过节点
3. 每个节点的输出连接到不同的处理路径
4. 这样，根据输入值的不同，会激活不同的处理路径

## 应用场景示例

### 场景一：根据提示词长度选择不同的采样器

1. 将提示词连接到逻辑跳过节点的input
2. 设置比较类型为「大于」，比较值为「100」
3. 如果提示词长度大于100，使用更精细的采样器；否则使用标准采样器

### 场景二：根据图像尺寸选择不同的处理流程

1. 将图像宽度连接到逻辑跳过节点的input
2. 设置比较类型为「大于等于」，比较值为「1024」
3. 对于大尺寸图像，执行额外的优化步骤；对于小尺寸图像，使用标准流程

### 场景三：根据关键词筛选提示词

1. 将提示词连接到逻辑跳过节点的input
2. 设置比较类型为「包含」，比较值为特定关键词
3. 只有当提示词包含特定关键词时，才执行特定的处理流程

## 调试技巧

逻辑跳过节点会在执行时输出详细的调试信息，包括：

- 输入值
- 比较类型
- 比较值
- 判断结果

您可以在ComfyUI的控制台中查看这些信息，以便排查问题。

## 与其他开关节点的配合使用

逻辑跳过节点可以与二狗子开关套件中的其他节点配合使用：

- **通用开关**：用于手动控制工作流的执行路径
- **连线开关**：用于动态切换连接
- **混合开关**：用于混合多个输入

通过组合使用这些节点，您可以构建复杂而灵活的工作流，实现高度自动化的处理流程。

## 小贴士

1. 对于数值比较，建议使用明确的数字格式，避免类型转换错误
2. 对于字符串比较，注意大小写敏感性
3. 使用「包含」和「不包含」比较类型时，比较值可以是字符串的一部分
4. 当条件参数设置为False时，节点会直接传递输入值，不进行任何判断
5. 如果后续节点无法处理None值，可能会导致错误，请确保适当处理这种情况

## 总结

逻辑跳过节点是一个强大的工具，可以帮助您创建智能化、条件性的ComfyUI工作流。通过合理设置条件和比较值，您可以实现复杂的逻辑控制，提高工作流的灵活性和效率。无论您是ComfyUI的新手还是有经验的用户，掌握逻辑跳过节点的使用方法都将大大拓展您的创作可能性。